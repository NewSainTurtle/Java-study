# μ λ„¤λ¦­(Generic)

μλ°”μ—μ„ μ λ„¤λ¦­μ΄λ€ λ°μ΄ν„°μ νƒ€μ…μ„ μΌλ°ν™”ν•λ‹¤λ” κ²ƒμ„ μλ―Έν•λ©°, Java 5λ¶€ν„° μ‚¬μ© κ°€λ¥ν•λ‹¤. 

ν΄λμ¤λ‚ λ©”μ†λ“μ—μ„ μ‚¬μ©ν•  λ°μ΄ν„° νƒ€μ…μ„ μ»΄νμΌ μ‹μ— λ―Έλ¦¬ μ§€μ •ν•λ” λ°©λ²•μ΄λ‹¤.

### π“ μ¥μ 
- κ°μ²΄μ νƒ€μ… μ•μ •μ„±μ„ λ†’μΌ μ μλ‹¤.
- λ°ν™κ°’μ— λ€ν• νƒ€μ… λ³€ν™ λ° νƒ€μ… μ²΄ν¬μ— λ“¤μ–΄κ°€λ” λ…Έλ ¥μ„ μ¤„μΌ μ μλ‹¤.

### π“ μ λ„¤λ¦­μ„ μ‚¬μ©ν•΄μ•Όν•λ” μ΄μ 
- μλ»λ νƒ€μ…μ΄ μ‚¬μ©λ  μ μλ” λ¬Έμ λ¥Ό μ»΄νμΌ κ³Όμ •μ—μ„ μ κ±°ν•  μ μλ‹¤.
- μ λ„¤λ¦­ μ½”λ“λ¥Ό μ‚¬μ©ν•λ©΄ νƒ€μ…μ„ κµ­ν•ν•κΈ° λ•λ¬Έμ— μ”μ†λ¥Ό μ°Ύμ•„μ¬ λ• νƒ€μ… λ³€ν™μ„ ν•  ν•„μ”κ°€ μ—†μ–΄ ν”„λ΅κ·Έλ¨ μ„±λ¥μ΄ ν–¥μƒλλ” ν¨κ³Όλ¥Ό μ–»μ„ μ μλ‹¤.

> **μ λ„¤λ¦­ ν΄λμ¤ / μ λ„¤λ¦­ μΈν„°νμ΄μ¤** <br>
> μ„ μ–Έμ— νƒ€μ… λ§¤κ°λ³€μκ°€ μ‚¬μ©λ ν΄λμ¤ νΉμ€ μΈν„°νμ΄μ¤ <br>
> μ λ„¤λ¦­ ν΄λμ¤μ™€ μ λ„¤λ¦­ μΈν„°νμ΄μ¤λ¥Ό ν†µν‹€μ–΄ μ λ„¤λ¦­ νƒ€μ…μ΄λΌκ³  ν•λ‹¤.

## μ λ„¤λ¦­ μ‚¬μ©λ²•

μ λ„¤λ¦­ νƒ€μ…μ€ ν΄λμ¤ λλ” μΈν„°νμ΄μ¤ μ΄λ¦„ λ’¤μ— `< >`λ¶€νΈκ°€ λ¶™κ³  μ‚¬μ΄μ— νƒ€μ… νλΌλ―Έν„°κ°€ μ„μΉν•λ‹¤.

``` java
public class ν΄λμ¤λ…<T> {...}
public interface μΈν„°νμ΄μ¤λ…<T> {...}
```

### π“ μμ£Ό μ‚¬μ©ν•λ” νƒ€μ…μΈμ
| νƒ€μ…μΈμ | μ„¤λ…      |
|:------:|---------|
| `<T>`  | Type    |
| `<E>`  | Element |
| `<K>`  | Key     |
| `<N>`  | Number  |
| `<V>`  | Value   |
| `<R>`  | Result  |


### π… μ λ„¤λ¦­ ν΄λμ¤

``` java
class ExClassGeneric<T> {
	private T t;

	public void setT(T t){
		this.t = t;
	}

	public T getT(){
		return t;
	}
}
```

μ„μ²λΌ ν΄λμ¤λ¥Ό μ„¤κ³„ν•  λ• κµ¬μ²΄μ μΈ νƒ€μ…μ„ λ…μ‹ν•μ§€ μ•κ³  νƒ€μ… νλΌλ―Έν„°λ΅ λ„£μ–΄λ‘μ—λ‹¤κ°€ μ‹¤μ  μ„¤κ³„ν• ν΄λμ¤κ°€ μ‚¬μ©λμ–΄μ§ λ• κµ¬μ²΄μ μΈ νƒ€μ…μ„ μ§€μ •ν•λ©΄μ„ μ‚¬μ©ν•λ©΄ νƒ€μ… λ³€ν™μ„ μµμ†ν™” μ‹ν‚¬ μ μλ‹¤.

``` java
ExClassGeneric<String> exGeneric = new ExClassGeneric<>();
```


### π… μ λ„¤λ¦­ μΈν„°νμ΄μ¤

``` java
interface ExInterfaceGeneric<T> {
	T example();
}

class ExGeneric implements ExInterfaceGeneric<String> {
	@Override
	public String example() {
		return null;
	}
}
```


### π„ λ©€ν‹° νƒ€μ… νλΌλ―Έν„° μ‚¬μ©
``` java
class ExMultiTypeGeneric<K, V> implements Map.Entry<K,V>{
    private K key;
    private V value;

    @Override
    public K getKey() {
        return this.key;
    }

    @Override
    public V getValue() {
        return this.value;
    }

    @Override
    public V setValue(V value) {
        this.value = value;
        return value;
    }
}
```

νƒ€μ…μ νλΌλ―Έν„°λ¥Ό 2κ°λ΅ λ°›μ„ μ μλ‹¤. λ€ν‘μ μΈ μμ‹λ΅ `Map`μ΄ μλ‹¤.

## μ λ„¤λ¦­ μ£Όμ” κ°λ…
### π… λ°”μ΄λ””λ“ νƒ€μ…(Bounded Type)

νΉμ • νƒ€μ…μ μ„λΈ νƒ€μ…μΌλ΅ μ ν•ν•κ±°λ‚ μƒμ„ νƒ€μ…μ„ μ ν•ν•  μ μλ‹¤.

<br>

π“ **μƒν• (Upper-Bounded)**

> μƒμ„μ— μλ” ν΄λμ¤λ¥Ό μ ν•ν•  μ μλ‹¤. 

μΈν„°νμ΄μ¤λ” `implements` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³ , λ‘κ°™μ΄ `extends` ν‚¤μ›λ“λ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤. 

``` java
class Animal {}
class Dog extends Animal {}
class Cat extends Animal {}
class Tea {}
class Box<T extends Animal>{
	private List<T> t = new ArrayList<>();
	public void add(T t){
		this.t.add(t);
	}
}
```

μμ‹λ” `Animal`μ„ μƒμ†ν•λ” ν΄λμ¤λ§ λ‹΄λ” λ°•μ¤μ΄λ‹¤. <br>
`Tea`λ” `Animal`μ„ μƒμ†ν•μ§€ μ•κΈ° λ•λ¬Έμ— λ°•μ¤μ— λ‹΄μ„ μ μ—†λ‹¤.  λ‹΄μΌλ ¤κ³  ν•λ©΄ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.

<br>

π“ **ν•ν• (Lower-Bounded)**

> μƒν•κ³Ό λ°λ€λ΅ ν•μ„μ νƒ€μ…λ“¤μ„ μ ν•ν•  μ μλ‹¤.

``` java
class Box<T> {
	public void add(Box<? super Dog> t) {...}
}
```

`?`λ” μ™€μΌλ“ μΉ΄λ“μ΄λ©°, μ–΄λ–¤ νƒ€μ…μ΄λ“  λ“¤μ–΄κ° μ μλ‹¤. <br>
μμ‹μ μ™€μΌλ“ μΉ΄λ“μ— λ“¤μ–΄μ¤λ” νƒ€μ…μ€ `Dog`μ΄ μƒμ†ν•κ³  μλ” ν΄λμ¤λ“¤λ§ λ‹΄μ„ μ μλ‹¤.

``` java
Box<Dog> box = new Box();

Box<Dog> dogBox = new Box<>();
Box<Animal> animalBox = new Box<>();
Box<Cat> catBox = new Box<>();
Box<Tea> teaBox = new Box<>();

box.add(dogBox);
box.add(animalBox);
box.add(catBox);   // μ»΄νμΌ μ—λ¬
box.add(teaBox);   // μ»΄νμΌ μ—λ¬
```

<br>

π“ **λ‹¤μ¤‘ λ°”μ΄λ“**

> μ—¬λ¬κ°μ ν΄λμ¤λ¥Ό μ ν•ν•  μ μλ‹¤.

μλ°”κ°€ λ‹¤μ¤‘ μƒμ†μ΄ λμ§€ μ•λ” κ²ƒμ²λΌ ν•λ‚μ ν΄λμ¤μ™€ μ—¬λ¬κ°μ μΈν„°νμ΄μ¤λ΅ μ ν•μ΄ κ°€λ¥ν•λ‹¤.<br>
μΈν„°νμ΄μ¤λ³΄λ‹¤ ν΄λμ¤ νƒ€μ…μ„ λ¨Όμ € μ„ μ–Έν•΄μ•Ό μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•μ§€ μ•λ”λ‹¤.
 
``` java
class Box<T extends Animal & Comparable & Runnable> { }
```

μμ‹μ—μ„ `T` νƒ€μ…μ€ `Animal`μ„ μƒμ†ν•κ³  `Comparable`κ³Ό `Runnable`μ„ κµ¬ν„ν• ν΄λμ¤μ—¬μ•Όν•λ‹¤.

<br>

### π… μ™€μΌλ“ μΉ΄λ“(Wild Card)

μ λ„¤λ¦­ νƒ€μ…μ„ λ§¤κ° κ°’μ΄λ‚ λ°ν™ νƒ€μ…μΌλ΅ μ‚¬μ©ν•  λ•, κµ¬μ²΄μ μΈ νƒ€μ… λ€μ‹  μ™€μΌλ“ μΉ΄λ“λ¥Ό μ„Έ κ°€μ§€ ν•νƒλ΅ μ‚¬μ©ν•  μ μλ‹¤.

π“ **<?>: Unbounded Wildcards(μ ν• μ—†μ)**

``` java
Box<?> box = new Box<>();
```

π“ **<? extends μƒμ„ νƒ€μ…>: Upper BoundedΒ Wildcards(μƒμ„ ν΄λμ¤ μ ν•)**

``` java
public void method(Box<? extends Notebook> box) {}
```

π“ **<? Super ν•μ„ νƒ€μ…>: Lower Bounded Wildcards(ν•μ„ ν΄λμ¤ μ ν•)**

``` java
public void method(Box<? super Notebook> box) {}
```


## μ λ„¤λ¦­ λ©”μ†λ“ λ§λ“¤κΈ°

μ λ„¤λ¦­ λ©”μ†λ“λ” λ©”μ†λ“λ¥Ό μ„ μ–Έν•  λ• μ λ„¤λ¦­μΌλ΅ λ°ν™ νƒ€μ…κ³Ό νλΌλ―Έν„° νƒ€μ…μ„ μ •μν•λ” λ©”μ†λ“λ‹¤.

- ν•΄λ‹Ή λ©”μ„λ“ λ‚΄μ—μ„λ§ ν•΄λ‹Ή νƒ€μ… λ§¤κ°λ³€μλ¥Ό μ‚¬μ©ν•  μ μλ‹¤.
- λ©”μ„λ“ νƒ€μ… λ§¤κ°λ³€μλ” ν΄λμ¤ λ³€μμ™€ λ‹¬λ¦¬ `static` λ©”μ„λ“μ—μ„λ„ μ„ μ–Έν•μ—¬ μ‚¬μ©ν•  μ μλ‹¤.
- μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό μ •μν•λ” μ‹μ μ—μ„λ” μ‹¤μ  μ–΄λ–¤ νƒ€μ…μ΄ μ…λ ¥ λλ”μ§€ μ• μ μ—†λ‹¤.
  - `length()` κ°™μ€ `String` ν΄λμ¤μ λ©”μ„λ“λ” μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό μ •μν•λ” μ‹μ μ— μ‚¬μ©ν•  μ μ—†λ‹¤.
  - κ·Έλ¬λ‚Β `equals()`, `toString()` κ°™μ€ `Object` ν΄λμ¤μ λ©”μ„λ“λ” λ¨λ“  ν΄λμ¤κ°€ `Object` ν΄λμ¤λ¥Ό μƒμ†λ°›κΈ° λ•λ¬Έμ— μ‚¬μ©μ΄ κ°€λ¥ν•λ‹¤.
- μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό μ •μν• λ•λ” λ°ν™ νƒ€μ…μ΄ λ¬΄μ—‡μΈμ§€μ™€λ” μƒκ΄€μ—†μ΄ λ‚΄κ°€ μ λ„¤λ¦­ λ©”μ„λ“λΌλ” κ²ƒμ„ μ»΄νμΌλ¬μ—κ² μ•λ ¤μ¤μ•Όν•λ‹¤. κ·Έλμ„ λ°ν™ νƒ€μ…μ„ μ •μν•κΈ° μ „μ— μ λ„¤λ¦­ νƒ€μ…μ— λ€ν• μ •μλ¥Ό λ°λ“μ‹ λ…μ‹ν•΄μ•Όν•λ‹¤.
- μ λ„¤λ¦­ ν΄λμ¤κ°€ μ•„λ‹ μΌλ° ν΄λμ¤ λ‚΄λ¶€μ—λ„ μ λ„¤λ¦­ λ©”μ„λ“λ¥Ό μ •μν•  μ μλ‹¤. 
- μ λ„¤λ¦­ ν΄λμ¤μ— `<T>` λ¥Ό μ‚¬μ©ν•κ³ , κ°™μ€ ν΄λμ¤μ μ λ„¤λ¦­ λ©”μ„λ“μ—λ„ `<T>` λ΅ κ°™μ€ μ΄λ¦„μ„ κ°€μ§„ νƒ€μ…νλΌλ―Έν„°λ¥Ό μ‚¬μ©ν•λ”λΌλ„ μ΄ λ‘μ€ μ „ν€ μƒκ΄€μ—†λ‹¤.

``` java
public class Example<T> {
    private int age;
    public static <T> T getAge(T age) {
        return age; 
    }
}
```

- `<T>`: μ λ„¤λ¦­ νƒ€μ…
- `T getAge`: λ¦¬ν„΄ νƒ€μ…
- `T age`: νλΌλ―Έν„° νƒ€μ…

- β οΈ `<T>`λ¥Ό μ‘μ„±ν•μ§€ μ•μΌλ©΄ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.
  - λ¨λ“  static λ³€μλ” μ λ„¤λ¦­μ„ μ‚¬μ©ν•  μ μ—†κΈ° λ•λ¬Έμ΄λ‹¤.
  - staticν• λ³€μλ” ν΄λμ¤κ°€ λ΅λ“λκΈ° μ „μ— λ©”λ¨λ¦¬μ— μ¬λΌκ°€λ”λ°, Tνƒ€μ…μ€ μ•„μ§ νƒ€μ…μ΄ κ²°μ •λκΈ° μ „μ΄κΈ° λ•λ¬Έμ— μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.
  - μ λ„¤λ¦­ λ©”μ†λ“ νΈμ¶μ‹μ— λ§¤κ° νƒ€μ…μ„ μ§€μ •ν•κΈ° λ•λ¬Έμ— staticμ„ μ‚¬μ©ν•  μ μλ‹¤.
    - `<T>`λ¥Ό μ‚¬μ©ν•΄μ„ μ λ„¤λ¦­ λ©”μ†λ“λ΅ μ‚¬μ©ν•λ©΄ `<T>`κ°€ μ§€μ—­λ³€μλ΅ λ°”λ€λ‹¤.

``` java
public class Example<T> {
    public static void method1(ArrayList<? extends Animal> list1, ArrayList<? extends World> list2) {

    }

    public static <T extends Animal> void method2(ArrayList<T> list1, ArrayList<T> list2) {

    }
}
```

- μ λ„¤λ¦­ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•λ”λ‹¤λ©΄ `method1()`μ²λΌ μ™€μΌλ“ μΉ΄λ“λ¥Ό μ‚¬μ©ν•΄μ•Όν•λ‹¤.
  - μ΄ κ²½μ°λ” νλΌλ―Έν„°λ§λ‹¤ μ™€μΌλ“μΉ΄λ“λ¥Ό μ¨μ•Όν•λ‹¤.
  - μ λ„¤λ¦­ λ©”μ†λ“λ¥Ό μ‚¬μ©ν•λ‹¤λ©΄, `method2()`μ²λΌ νλΌλ―Έν„°μ— λ°λ³µλλ” μ½”λ“μ‚¬μ©μ„ μ¤„μΌ μ μλ‹¤.

> β­οΈ ν΄λμ¤μ— μλ” μ λ„¤λ¦­ νƒ€μ…κ³Ό λ©”μ†λ“μ— μλ” μ λ„¤λ¦­ νƒ€μ…μ€ μ„λ΅ λ³„κ°λΌλ” κ²ƒμ„ κΈ°μ–µν•μ!


## Erasure

μ λ„¤λ¦­μ€ JDK 1.5 λ¶€ν„° λ„μ…λμ—λ”λ°, μ΄μ „ λ²„μ „κ³Ό νΈν™μ„± μ μ§€λ¥Ό μ„ν•΄ μ†κ±°(Erasure)λ°©μ‹μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

**Erasureλ€, νƒ€μ…μ„ μ»΄νμΌνƒ€μ„μ—λ§ κ²€μ‚¬ν•κ³  λ°νƒ€μ„μ—λ” ν•΄λ‹Ή νƒ€μ…μ„ μ• μ μ—†λ” κ²ƒμ„ λ§ν•λ‹¤.**

μ¦‰, μ»΄νμΌνƒ€μ„μ—λ§ νƒ€μ… μ μ•½ μ΅°κ±΄μ„ κ±Έκ³  λ°νƒ€μ„μ—λ” νƒ€μ…μ„ μ κ±°ν•λ‹¤λ” μλ―Έμ΄λ‹¤.

### Unbounded Type
- unbounded typeμ€ `Object`λ΅ λ°”λ€κ² λλ‹¤. 

π **μ»΄νμΌνƒ€μ„: νƒ€μ… μ†κ±° μ „**

``` java
public class Example<T> {
    public void method(T t) {
        System.out.println(t.toString());
    }
}
```


π **λ°νƒ€μ„: νƒ€μ… μ†κ±° ν›„**

``` java
public class Example {
    public void method(Object t) {
        System.out.println(t.toString());
    }
}
```

### Bounded Type
- bounded typeμ€ `Object`κ°€ μ•„λ‹, μ ν•μ‹ν‚¨ νƒ€μ…μΌλ΅ λ³€ν™λμ–΄μ„Β `Comparable`Β νƒ€μ…μ΄ λλ‹¤.

π **μ»΄νμΌνƒ€μ„: νƒ€μ… μ†κ±° μ „**

``` java
public class Example<T extends Comparable<T>> {
    public void method(T t) {
        System.out.println(t.toString());
    }
}
```


π **λ°νƒ€μ„: νƒ€μ… μ†κ±° ν›„**

``` java
public class Example {
    public void method(Comparable t) {
        System.out.println(t.toString());
    }
}
```


<br>

> **μ°Έκ³ **<br>
> [1] https://coding-factory.tistory.com/573 <br>
> [2] [https://velog.io/@bokimy](https://velog.io/@bokimy/Java%EC%A0%9C%EB%84%A4%EB%A6%AD-%EC%82%AC%EC%9A%A9%EB%B2%95) <br>
> [3] https://ebabby.tistory.com/30

